"use strict";(self.webpackChunkreact_tailwind_dropdown=self.webpackChunkreact_tailwind_dropdown||[]).push([[215],{"./src/components/Dropdown/Dropdown.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomRenderOption:()=>CustomRenderOption,CustomStyling:()=>CustomStyling,Default:()=>Default,Disabled:()=>Disabled,MultipleSelection:()=>MultipleSelection,Required:()=>Required,WithError:()=>WithError,WithPortal:()=>WithPortal,WithSearch:()=>WithSearch,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Dropdown_stories});var react_dom=__webpack_require__("./node_modules/react-dom/index.js"),react=__webpack_require__("./node_modules/react/index.js"),defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};var createLucideIcon$1=(iconName,iconNode)=>{const Component=(0,react.forwardRef)((({color="currentColor",size=24,strokeWidth=2,absoluteStrokeWidth,children,...rest},ref)=>{return(0,react.createElement)("svg",{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:`lucide lucide-${string=iconName,string.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...rest},[...iconNode.map((([tag,attrs])=>(0,react.createElement)(tag,attrs))),...(Array.isArray(children)?children:[children])||[]]);var string}));return Component.displayName=`${iconName}`,Component};const X=createLucideIcon$1("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Search=createLucideIcon$1("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);__webpack_require__("./src/styles/tailwind.css");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Dropdown=({options=[],value,onChange,id,label="Label",multiple=!1,withSearch=!1,withOutline=!0,withPortal=!1,placeholder="Select...",className="",zIndex=1050,error,disabled=!1,required=!1,renderOption,renderSelectedOption})=>{const[isOpen,setIsOpen]=(0,react.useState)(!1),[searchQuery,setSearchQuery]=(0,react.useState)(""),[selectedValues,setSelectedValues]=(0,react.useState)(multiple?[]:null),dropdownRef=(0,react.useRef)(null),dropdownContentRef=(0,react.useRef)(null),inputRef=(0,react.useRef)(null),[dropdownPosition,setDropdownPosition]=(0,react.useState)({top:0,left:0,width:0});(0,react.useEffect)((()=>{setSelectedValues(value)}),[value]);const updateDropdownPosition=()=>{if(isOpen&&withPortal&&dropdownRef.current){const rect=dropdownRef.current.getBoundingClientRect();setDropdownPosition({top:rect.bottom+window.scrollY,left:rect.left+window.scrollX,width:rect.width})}};(0,react.useEffect)((()=>{updateDropdownPosition()}),[isOpen,withPortal]),(0,react.useEffect)((()=>{if(withPortal)return window.addEventListener("resize",updateDropdownPosition),window.addEventListener("scroll",updateDropdownPosition),()=>{window.removeEventListener("resize",updateDropdownPosition),window.removeEventListener("scroll",updateDropdownPosition)}}),[withPortal]);const currentSelectedValues=multiple?Array.isArray(selectedValues)?selectedValues:[]:selectedValues?[selectedValues]:[],filteredOptions=options.filter((option=>{const label=option.label.toLowerCase(),query=searchQuery.toLowerCase();return label.includes(query)})).map((option=>{if(!searchQuery)return option;const highlighted=option.label.split(new RegExp(`(${searchQuery})`,"gi")).map(((part,i)=>part.toLowerCase()===searchQuery.toLowerCase()?(0,jsx_runtime.jsx)("span",{className:"bg-blue-200",children:part},i):part));return{...option,label:(0,jsx_runtime.jsx)("span",{children:highlighted})}})),selectedOptions=options.filter((opt=>currentSelectedValues.includes(opt.value)));(0,react.useEffect)((()=>{const handleClickOutside=event=>{const isClickInDropdown=dropdownRef.current?.contains(event.target),isClickInPortal=dropdownContentRef.current?.contains(event.target);isClickInDropdown||isClickInPortal||(setIsOpen(!1),setSearchQuery(""))};return document.addEventListener("mousedown",handleClickOutside),()=>document.removeEventListener("mousedown",handleClickOutside)}),[]);const handleSelect=optionValue=>{const newValue=multiple?currentSelectedValues.includes(optionValue)?currentSelectedValues.filter((v=>v!==optionValue)):[...currentSelectedValues,optionValue]:optionValue;setSelectedValues(newValue),onChange?.(newValue),multiple||setIsOpen(!1),setSearchQuery("")},handleClear=(e,valueToRemove)=>{e.stopPropagation();const newValue=multiple?valueToRemove?currentSelectedValues.filter((v=>v!==valueToRemove)):[]:null;setSelectedValues(newValue),onChange?.(newValue)},dropdownContent=(0,jsx_runtime.jsxs)("div",{ref:dropdownContentRef,className:"absolute z-50 bg-white rounded-lg shadow-lg border border-gray-200",style:withPortal?{position:"fixed",top:`${dropdownPosition.top}px`,left:`${dropdownPosition.left}px`,width:`${dropdownPosition.width}px`,zIndex:zIndex||1050}:void 0,children:[withSearch&&(0,jsx_runtime.jsx)("div",{className:"p-2 border-b border-gray-200",children:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(Search,{className:"absolute left-2 top-2 h-4 w-4 text-gray-400"}),(0,jsx_runtime.jsx)("input",{ref:inputRef,type:"text",className:`\n                w-full pl-8 pr-4 py-1.5 text-sm rounded-md\n                focus:outline-none focus:ring-2 focus:ring-blue-500\n                ${withOutline?"border":"bg-gray-100"}\n              `,placeholder:"Search...",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)})]})}),(0,jsx_runtime.jsxs)("div",{className:"max-h-60 overflow-auto py-1",children:[filteredOptions.map((option=>renderOption?renderOption(option,currentSelectedValues.includes(option.value),(()=>handleSelect(option.value))):((option,isSelected)=>(0,jsx_runtime.jsx)("div",{className:`\n        px-3 py-1.5 text-sm cursor-pointer flex items-center\n        ${isSelected?"bg-blue-100 text-blue-800":"text-gray-700 hover:bg-gray-50"}\n      `,onClick:()=>handleSelect(option.value),children:option.label},option.value))(option,currentSelectedValues.includes(option.value)))),0===filteredOptions.length&&(0,jsx_runtime.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No options found"})]})]});return(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-4",children:[label&&(0,jsx_runtime.jsxs)("label",{htmlFor:id,className:"text-md font-medium text-gray-700 min-w-[100px]",children:[label,required&&(0,jsx_runtime.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex-1",children:[(0,jsx_runtime.jsxs)("div",{ref:dropdownRef,className:"relative",children:[(0,jsx_runtime.jsxs)("div",{className:`\n              px-3 py-2 bg-white border border-gray-200 rounded-lg\n              flex items-center justify-between \n              ${withOutline?"bg-white border border-gray-200":"bg-gray-100"}\n              ${disabled?"opacity-50 cursor-not-allowed":"hover:border-gray-300 cursor-pointer"}\n              ${error?"border-red-500":""}\n              ${isOpen?"ring-2 ring-blue-500 border-transparent":""}\n              ${className}\n            `,onClick:()=>!disabled&&setIsOpen(!isOpen),children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center gap-2 flex-wrap",children:selectedOptions.length>0?selectedOptions.map((option=>renderSelectedOption?renderSelectedOption(option,(()=>handleClear(null,option.value))):(option=>(0,jsx_runtime.jsxs)("div",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-sm",children:[option.label,(0,jsx_runtime.jsx)(X,{className:"inline-block ml-1 h-3 w-3 hover:text-blue-600",onClick:e=>handleClear(e,option.value)})]},option.value))(option))):(0,jsx_runtime.jsx)("span",{className:"text-gray-400",children:placeholder})}),(0,jsx_runtime.jsx)("svg",{className:"h-5 w-5 text-gray-400 transition-transform "+(isOpen?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),isOpen&&(withPortal?(0,react_dom.createPortal)(dropdownContent,document.body):dropdownContent)]}),error&&(0,jsx_runtime.jsx)("p",{className:"mt-1 text-sm text-red-500",children:error})]})]})};Dropdown.displayName="Dropdown";const components_Dropdown=Dropdown;Dropdown.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{options:{defaultValue:{value:"[]",computed:!1},required:!1},label:{defaultValue:{value:'"Label"',computed:!1},required:!1},multiple:{defaultValue:{value:"false",computed:!1},required:!1},withSearch:{defaultValue:{value:"false",computed:!1},required:!1},withOutline:{defaultValue:{value:"true",computed:!1},required:!1},withPortal:{defaultValue:{value:"false",computed:!1},required:!1},placeholder:{defaultValue:{value:'"Select..."',computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1},zIndex:{defaultValue:{value:"1050",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},required:{defaultValue:{value:"false",computed:!1},required:!1}}};const Dropdown_stories={title:"Components/Dropdown",component:components_Dropdown,parameters:{layout:"padded"},tags:["autodocs"],argTypes:{value:{control:{type:"text"},description:"Selected value(s) of the dropdown"},options:{control:{type:"object"},description:"Array of options with value and label properties"},multiple:{control:{type:"boolean"},description:"Allow multiple selections"},withSearch:{control:{type:"boolean"},description:"Enable search functionality"},withOutline:{control:{type:"boolean"},description:"Show outline border"},withPortal:{control:{type:"boolean"},description:"Render dropdown menu in a portal"},disabled:{control:{type:"boolean"},description:"Disable the dropdown"},required:{control:{type:"boolean"},description:"Mark the field as required"},error:{control:{type:"text"},description:"Error message to display"},placeholder:{control:{type:"text"},description:"Placeholder text when no option is selected"},label:{control:{type:"text"},description:"Label text for the dropdown"},className:{control:{type:"text"},description:"Additional CSS classes"},zIndex:{control:{type:"number"},description:"Z-index for the dropdown menu when using portal"}}},options=[{value:"1",label:"Option 1"},{value:"2",label:"Option 2"},{value:"3",label:"Option 3"},{value:"5",label:"Long Long Option 3"},{value:"6",label:"Long Long Long Option 4"},{value:"7",label:"Long Long Long Long Option 5"},{value:"8",label:"Long Long Long Long Long Option 6"}],Default={args:{options,value:"",onChange:value=>console.log("Selected:",value),id:"default-dropdown",label:"Label",multiple:!1,withSearch:!0,withOutline:!0,withPortal:!1,placeholder:"Select an option...",className:"",error:"",disabled:!1,required:!1}},MultipleSelection={args:{...Default.args,multiple:!0,value:["1","2"],placeholder:"Select multiple options..."}},WithPortal={args:{...Default.args,withPortal:!0,zIndex:1050}},WithSearch={args:{...Default.args,withSearch:!0,options:[...options,{value:"9",label:"Searchable Option 1"},{value:"10",label:"Another Searchable Option"},{value:"11",label:"Yet Another Option"}]}},WithError={args:{...Default.args,error:"Please select a valid option",value:""}},Disabled={args:{...Default.args,disabled:!0,value:"1"}},Required={args:{...Default.args,required:!0,label:"Required Field"}},CustomStyling={args:{...Default.args,className:"min-w-[300px]",label:"Custom Styled Dropdown"}},CustomRenderOption={args:{...Default.args,renderOption:(option,isSelected,onSelect)=>(0,jsx_runtime.jsxs)("div",{className:`\n          px-3 py-2 cursor-pointer flex items-center gap-2\n          ${isSelected?"bg-blue-50 text-blue-700":"hover:bg-gray-50"}\n        `,onClick:onSelect,children:[(0,jsx_runtime.jsx)("div",{className:"w-2 h-2 rounded-full "+(isSelected?"bg-blue-500":"bg-gray-300")}),(0,jsx_runtime.jsx)("span",{children:option.label})]},option.value)}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  args: {\n    options,\n    value: "",\n    onChange: value => console.log("Selected:", value),\n    id: "default-dropdown",\n    label: "Label",\n    multiple: false,\n    withSearch: true,\n    withOutline: true,\n    withPortal: false,\n    placeholder: "Select an option...",\n    className: "",\n    error: "",\n    disabled: false,\n    required: false\n  }\n}',...Default.parameters?.docs?.source}}},MultipleSelection.parameters={...MultipleSelection.parameters,docs:{...MultipleSelection.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    multiple: true,\n    value: ["1", "2"],\n    placeholder: "Select multiple options..."\n  }\n}',...MultipleSelection.parameters?.docs?.source}}},WithPortal.parameters={...WithPortal.parameters,docs:{...WithPortal.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    withPortal: true,\n    zIndex: 1050\n  }\n}",...WithPortal.parameters?.docs?.source}}},WithSearch.parameters={...WithSearch.parameters,docs:{...WithSearch.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    withSearch: true,\n    options: [...options, {\n      value: "9",\n      label: "Searchable Option 1"\n    }, {\n      value: "10",\n      label: "Another Searchable Option"\n    }, {\n      value: "11",\n      label: "Yet Another Option"\n    }]\n  }\n}',...WithSearch.parameters?.docs?.source}}},WithError.parameters={...WithError.parameters,docs:{...WithError.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    error: "Please select a valid option",\n    value: ""\n  }\n}',...WithError.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    disabled: true,\n    value: "1"\n  }\n}',...Disabled.parameters?.docs?.source}}},Required.parameters={...Required.parameters,docs:{...Required.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    required: true,\n    label: "Required Field"\n  }\n}',...Required.parameters?.docs?.source}}},CustomStyling.parameters={...CustomStyling.parameters,docs:{...CustomStyling.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    className: "min-w-[300px]",\n    label: "Custom Styled Dropdown"\n  }\n}',...CustomStyling.parameters?.docs?.source}}},CustomRenderOption.parameters={...CustomRenderOption.parameters,docs:{...CustomRenderOption.parameters?.docs,source:{originalSource:'{\n  args: {\n    ...Default.args,\n    renderOption: (option, isSelected, onSelect) => <div key={option.value} className={`\n          px-3 py-2 cursor-pointer flex items-center gap-2\n          ${isSelected ? "bg-blue-50 text-blue-700" : "hover:bg-gray-50"}\n        `} onClick={onSelect}>\r\n        <div className={`w-2 h-2 rounded-full ${isSelected ? "bg-blue-500" : "bg-gray-300"}`} />\r\n        <span>{option.label}</span>\r\n      </div>\n  }\n}',...CustomRenderOption.parameters?.docs?.source}}};const __namedExportsOrder=["Default","MultipleSelection","WithPortal","WithSearch","WithError","Disabled","Required","CustomStyling","CustomRenderOption"]}}]);